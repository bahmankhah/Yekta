# مستندات پنل یکتا (Persian)

این فایل راهنمای خلاصه برای استفاده از افزونه «یکتا» و تنظیمات Single Sign-On است. در این مستند تمام روش‌های SSO و گزینه‌های موجود در پنل مدیریت توضیح داده شده است.

## روش‌های ورود (SSO Methods)

در حال حاضر تنها روش **کد مجوز (token)** پشتیبانی می‌شود. کاربر ابتدا به صفحه ورود هدایت شده و پس از دریافت کد مجوز، توکن برای ادامه فرایند در اختیار سایت قرار می‌گیرد.

## تنظیمات پنل مدیریت

بعد از فعال‌سازی افزونه، منویی با عنوان «کاربران SSO» در پیشخوان وردپرس خواهید دید. زیرمنوی «تنظیمات SSO» شامل گزینه‌های زیر است. با انتخاب هر روش، فیلد‌های مربوط به همان روش نمایش داده می‌شوند.

### گزینه‌های عمومی

- **روش SSO** (`yekta_sso_method`): در حال حاضر فقط روش token پشتیبانی می‌شود.
- **نوع سرویس** (`yekta_sso_service_type`): تعیین می‌کند افزونه به عنوان سرویس احراز هویت کار کند یا به عنوان سرویس بیرونی متصل شود.
- **پارامتر ورود** (`yekta_sso_login_param`): نام متغیر query برای شروع فرآیند ورود.
- **پارامتر کد بازگشت** (`yekta_sso_code_param`): نام پارامتر کدی که پس از بازگشت دریافت می‌شود.

### فیلدهای روش Token

- `client_id` : شناسه کلاینت که از سرویس‌دهنده دریافت می‌شود.
- `login_url` : آدرس صفحه ورود در سرویس‌دهنده.
- `validate_url` : آدرس اعتبارسنجی کد مجوز.
- `redirect_url` : آدرسی که پس از ورود موفق کاربر به آن بازگردانده می‌شود.
- `logout_url` : آدرس خروج از حساب کاربری.
- `public_key` : کلید عمومی برای بررسی امضای توکن.
- `userinfo_url` : آدرس دریافت اطلاعات کاربر.

## لیست مبداهای مجاز
در حالت سرویس احراز هویت می‌توان فهرستی از مبدأهای مجاز را ثبت کرد. هر مبدأ شامل **IP**، **client_id** یکتا و **redirect_url** است.

## صفحه کاربران SSO

در صفحه «کاربران SSO» لیست کاربرانی که از طریق سامانه یکتا احراز هویت شده‌اند نمایش داده می‌شود. بالای صفحه تعداد ورودهای امروز و تعداد کاربران جدید قابل مشاهده است. با کلیک روی دکمه «نمایش اطلاعات» جزئیات تکمیلی هر کاربر از سرویس‌دهنده خوانده خواهد شد.

