# مستندات پنل یکتا (Persian)

این فایل راهنمای خلاصه برای استفاده از افزونه «یکتا» و تنظیمات Single Sign-On است. در این مستند تمام روش‌های SSO و گزینه‌های موجود در پنل مدیریت توضیح داده شده است.

## روش‌های ورود (SSO Methods)

سه روش برای احراز هویت در افزونه وجود دارد که هنگام نصب می‌توانید یکی از آن‌ها را انتخاب کنید:

1. **کد مجوز (token)**: مناسب زمانی که سرویس دهنده ابتدا کاربر را به صفحه ورود هدایت کرده و پس از دریافت کد مجوز، توکن را در اختیار سایت قرار می‌دهد.
2. **رمز عبور (password)**: در این روش نام کاربری و رمز عبور به صورت مستقیم برای دریافت توکن به کار می‌رود.
3. **کلید مخفی (secret)**: مشابه روش قبلی اما از کلید مخفی مشترک برای تولید توکن استفاده می‌شود.

## تنظیمات پنل مدیریت

بعد از فعال‌سازی افزونه، منویی با عنوان «کاربران SSO» در پیشخوان وردپرس خواهید دید. زیرمنوی «تنظیمات SSO» شامل گزینه‌های زیر است. با انتخاب هر روش، فیلد‌های مربوط به همان روش نمایش داده می‌شوند.

### گزینه‌های عمومی

- **روش SSO** (`yekta_sso_method`): انتخاب یکی از سه روش بالا (token، password یا secret).

### فیلدهای روش Token

- `client_id` : شناسه کلاینت که از سرویس‌دهنده دریافت می‌شود.
- `login_url` : آدرس صفحه ورود در سرویس‌دهنده.
- `validate_url` : آدرس اعتبارسنجی کد مجوز.
- `redirect_url` : آدرسی که پس از ورود موفق کاربر به آن بازگردانده می‌شود.
- `logout_url` : آدرس خروج از حساب کاربری.
- `public_key` : کلید عمومی برای بررسی امضای توکن.
- `userinfo_url` : آدرس دریافت اطلاعات کاربر.

### فیلدهای روش Password

- `token_endpoint` : آدرس دریافت توکن با ارسال نام کاربری و رمز عبور.
- `secret_key` : کلید محرمانه جهت احراز هویت درخواست.
- `redirect_url` : آدرس بازگشت پس از ورود موفق.
- `logout_url` : آدرس خروج از سامانه.
- `public_key` : کلید عمومی برای اعتبارسنجی توکن.
- `userinfo_url` : آدرس دریافت اطلاعات کاربر.

### فیلدهای روش Secret

- `token_endpoint` : آدرس ایجاد توکن با استفاده از کلید مشترک.
- `secret_key` : کلید مخفی مشترک با سرویس دهنده.
- `redirect_url` : آدرس بازگشت بعد از ورود موفق.
- `logout_url` : آدرس خروج از حساب.
- `public_key` : کلید عمومی جهت اعتبارسنجی.
- `userinfo_url` : آدرس دریافت مشخصات کاربر.

## صفحه کاربران SSO

در صفحه «کاربران SSO» لیست کاربرانی که از طریق سامانه یکتا احراز هویت شده‌اند نمایش داده می‌شود. بالای صفحه تعداد ورودهای امروز و تعداد کاربران جدید قابل مشاهده است. با کلیک روی دکمه «نمایش اطلاعات» جزئیات تکمیلی هر کاربر از سرویس‌دهنده خوانده خواهد شد.

